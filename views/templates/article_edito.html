<div ng-swipe-left="pageSuivante(page, unArticle)" ng-swipe-right="pagePrecedente(page, unArticle)">

    <div class="hide">
        {{unObjet = lienPhoto(unArticle.TLienPhoto, page)}}
        <div ng-repeat="photo in unArticle.TLienPhoto">
            {{maPhoto = photo.photo.fichier1}}
            <a class="fancybox-button" rel="fancybox-button" href="{{article.sm_image_url[0].substr(0,31)}}{{unObjet.taille.toLowerCase()}}/cadre/{{maPhoto}}" title="{{maPhoto.photo.titre}}">
                <img ng-if="article.sm_image_url[0]" ng-src="{{article.sm_image_url[0].substr(0,31)}}{{unObjet.taille.toLowerCase()}}/cadre/{{maPhoto}}"><br>
            </a>
        </div>
    </div>



    <!-- Div du titre + infos image -->
    <div class="text-center">
        <h2 class="small-caps" ng-bind-html="article.label | replaceCharacter"></h2>
        <a class="fancybox-button" rel="fancybox-button" href="{{article.sm_image_url[0]}}" title="{{unArticle.TLienPhoto[0].photo.description}}">
            <img ng-if="article.sm_image_url[0]" class="img-responsive img-thumbnail" ng-src="{{article.sm_image_url[0]}}"
                title="{{unArticle.TLienPhoto[0].photo.titre}} - {{unArticle.TLienPhoto[0].photo.description}}"
                alt="{{unArticle.TLienPhoto[0].photo.titre}} - {{unArticle.TLienPhoto[0].photo.description}}"/><br>
        </a>
        <p ng-if="unArticle.TLienPhoto.length > 1"><b>Faites glisser votre doigt pour découvrir le diaporama</b></p>
        <p class="opacity-5" ng-if="unArticle.signature">Source : {{unArticle.TLienPhoto[0].photo.source}} © </p>
    </div>

    <!-- Div contenant le teaser et le texte de l'article. Contient aussi la signature de l'auteur, la date de publication -->
    <div class="tiny-margin-top">  
        <p class="font-size-1-3" ng-bind-html="article.teaser | replaceCharacter"></p>
        <p ng-bind-html="unArticle.texte | replaceCharacter" class="text-justify"></p>
    </div>

    <!-- Div de la pagination -->
    <div class="text-center"> 
        <ul class="pagination">
            <li ng-if="int_val(page) > 1">
                <a href="#/articles/{{$routeParams.id}}/{{int_val(page)-1}}">&lt; Page précédente </a>
            </li>
            <li ng-if="int_val(page) < comptePage(unArticle.TPage)">
                <a href="#/articles/{{$routeParams.id}}/{{int_val(page)+1}}">Page suivante &gt;</a>
            </li>
        </ul>
    </div>

    <!-- Div de l'auteur + date -->
    <div>
        <span><em>{{unArticle.signature}} ({{article.timestamp.substr(8,2)}}/{{article.timestamp.substr(5,2)}}/{{article.timestamp.substr(0,4)}})</em></span>
    </div>

    <!-- Div des stats (nb de lus et nb partages) + pagination articles connexes-->
    <div>
        <p ng-if="article.is_lecture!=undefined || unArticle.is_lecture!=undefined">Cet article a été lu {{article.is_lecture}} fois<span ng-if="unArticle.nb_transfert!='0'">et a été partagé {{unArticle.nb_transfert}} fois</span>.</p>
    </div>

    <!-- Div des thèmes et rubriques -->
    <div ng-controller="ArticlesCtrl" ng-if="article.sm_theme || article.sm_rubrique">

        <p class="lead">Thèmes</p>
        <span ng-repeat="theme in article.sm_theme | dedoublonne" ng-if="article.sm_theme">
            <a href="#" ng-click="sortByTheme(theme)">
                <button class="btn btn-xs btn-warning">{{theme}}</button>
            </a>
        </span>

        <p ng-if="article.sm_rubrique" class="lead">Rubrique</p>
        <span ng-repeat="rubrique in article.sm_rubrique" ng-if="article.sm_rubrique">
            <a href="#" ng-click="sortByRubrique(rubrique)">
                <button class="btn btn-xs btn-danger">{{rubrique}}</button>
            </a>
        </span>
    </div>
</div>